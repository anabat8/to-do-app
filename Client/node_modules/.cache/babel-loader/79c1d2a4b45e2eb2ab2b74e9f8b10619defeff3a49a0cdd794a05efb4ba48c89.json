{"ast":null,"code":"import{React}from'react';import ApiClient from'../api/ApiClient';import{useQuery,useMutation,useQueryClient}from'react-query';import Message from'../components/Message';import{TERipple}from'tw-elements-react';import{RiDeleteBin6Line}from\"react-icons/ri\";import{MdCheckBoxOutlineBlank}from\"react-icons/md\";import{MdCheckBox}from\"react-icons/md\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const MainPage=()=>{const queryClient=useQueryClient();let queryResult=useQuery(\"currentActivities\",ApiClient.seeAllActivities);let mutationDeleteActivity=useMutation(ApiClient.deleteActivity,{onSuccess:data=>{queryClient.invalidateQueries(\"currentActivities\");}});let mutationCheckActivity=useMutation(ApiClient.checkActivity,{onSuccess:data=>{queryClient.invalidateQueries(\"currentActivities\");}});let activities=queryResult.data;let isLoading=queryResult.isLoading;let error=queryResult.error;if(isLoading)return/*#__PURE__*/_jsx(\"div\",{children:\"Fetching toDos...\"});if(error)return/*#__PURE__*/_jsx(Message,{msg:error.Message,isSuccess:false});const handleSubmit=async e=>{window.location.href='/addActivity';};const handleClickOnBin=async(id,e)=>{mutationDeleteActivity.mutate(id);};const handleClickOnCheckBox=async(id,e)=>{mutationCheckActivity.mutate(id);};return/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl w-full rounded-lg border-2 bg-white dark:bg-neutral-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-secondary-50 border-b-2 border-neutral-100 px-6 py-3 dark:border-neutral-600 dark:text-neutral-50 font-bold\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"text-2xl px-6 font-bold leading-tight text-neutral-800 dark:text-neutral-50\",children:\"TO DOs \\uD83D\\uDCDD\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"ul\",{className:\"w-full\",children:activities.sort((a,b)=>{if(a.status===b.status)return 1;else return a.status?1:-1;}).map(data=>/*#__PURE__*/_jsxs(\"li\",{className:\"w-full md:text-lg border-b-2 px-6 py-3 break-words \".concat(data.status?\"line-through bg-secondary-300\":\"bg-secondary-50\",\" \"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-2 font-medium\",children:data.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row justify-end gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"\",children:/*#__PURE__*/_jsx(RiDeleteBin6Line,{size:20,color:\"#EF4444\",onClick:e=>handleClickOnBin(data.id,e)})}),/*#__PURE__*/_jsx(\"span\",{className:\"\",children:data.status?/*#__PURE__*/_jsx(MdCheckBox,{size:20,color:\"#EF4444\"}):/*#__PURE__*/_jsx(MdCheckBoxOutlineBlank,{size:20,color:\"#EF4444\",onClick:e=>handleClickOnCheckBox(data.id,e)})})]})]}))}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-3 dark:text-neutral-50\",children:/*#__PURE__*/_jsx(TERipple,{rippleColor:\"light\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleSubmit,className:\"inline-block rounded bg-danger-300 px-7 pb-2.5 pt-3 text-sm font-semibold uppercase leading-normal text-white transition duration-150 ease-in-out hover:bg-danger-400\",children:\"Add Activity\"})})})]})]})});};export default MainPage;","map":{"version":3,"names":["React","ApiClient","useQuery","useMutation","useQueryClient","Message","TERipple","RiDeleteBin6Line","MdCheckBoxOutlineBlank","MdCheckBox","jsx","_jsx","jsxs","_jsxs","MainPage","queryClient","queryResult","seeAllActivities","mutationDeleteActivity","deleteActivity","onSuccess","data","invalidateQueries","mutationCheckActivity","checkActivity","activities","isLoading","error","children","msg","isSuccess","handleSubmit","e","window","location","href","handleClickOnBin","id","mutate","handleClickOnCheckBox","className","sort","a","b","status","map","concat","description","size","color","onClick","rippleColor","type"],"sources":["/Users/tudorandrei/repos/ToDoListApp-abatrineanu/Client/src/pages/MainPage.js"],"sourcesContent":["import { React } from 'react';\r\nimport ApiClient from '../api/ApiClient';\r\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\r\nimport Message from '../components/Message';\r\nimport { TERipple } from 'tw-elements-react';\r\nimport { RiDeleteBin6Line } from \"react-icons/ri\";\r\nimport { MdCheckBoxOutlineBlank } from \"react-icons/md\";\r\nimport { MdCheckBox } from \"react-icons/md\";\r\n\r\nconst MainPage = () => {\r\n    const queryClient = useQueryClient();\r\n    let queryResult = useQuery(\"currentActivities\", ApiClient.seeAllActivities);\r\n\r\n    let mutationDeleteActivity = useMutation(ApiClient.deleteActivity, \r\n        {\r\n            onSuccess: (data) => {\r\n                queryClient.invalidateQueries(\"currentActivities\");\r\n            },\r\n        });\r\n    \r\n    let mutationCheckActivity = useMutation(ApiClient.checkActivity,\r\n        {\r\n            onSuccess: (data) => {\r\n                queryClient.invalidateQueries(\"currentActivities\");\r\n            },\r\n        });\r\n\r\n    let activities = queryResult.data;\r\n    let isLoading = queryResult.isLoading;\r\n    let error = queryResult.error;\r\n\r\n    if (isLoading) return <div>Fetching toDos...</div>;\r\n    if (error) return <Message msg={error.Message} isSuccess={false}/> \r\n\r\n    const handleSubmit = async (e) => {\r\n        window.location.href = '/addActivity';\r\n    };\r\n\r\n    const handleClickOnBin = async (id, e) => {\r\n        mutationDeleteActivity.mutate(id); \r\n    };\r\n\r\n    const handleClickOnCheckBox = async (id, e) => {\r\n        mutationCheckActivity.mutate(id);\r\n    }\r\n    \r\n    return ( \r\n        <div className=\"flex flex-col items-center justify-center\">\r\n            <div className=\"max-w-4xl w-full rounded-lg border-2 bg-white dark:bg-neutral-700\">\r\n                <div className=\"bg-secondary-50 border-b-2 border-neutral-100 px-6 py-3 dark:border-neutral-600 dark:text-neutral-50 font-bold\">\r\n                    <h5 className=\"text-2xl px-6 font-bold leading-tight text-neutral-800 dark:text-neutral-50\">\r\n                        TO DOs üìù\r\n                    </h5>\r\n                </div>\r\n                <div className=\"p-8 flex flex-col items-center\">\r\n                    <ul className=\"w-full\">\r\n                        {activities.sort((a, b) => {\r\n                            if(a.status === b.status)\r\n                                return 1; \r\n                            else \r\n                                return a.status ? 1 : -1;\r\n                        }).map((data) => (\r\n                        <li className={`w-full md:text-lg border-b-2 px-6 py-3 break-words ${ data.status ? \"line-through bg-secondary-300\" : \"bg-secondary-50\"} `}>\r\n                            <div className={`mb-2 font-medium`}>\r\n                                {data.description}\r\n                            </div>\r\n                            <div className=\"flex flex-row justify-end gap-2\">\r\n                                <span className=\"\">\r\n                                    <RiDeleteBin6Line size={20} color={\"#EF4444\"} \r\n                                        onClick={(e) => handleClickOnBin(data.id, e)}/>\r\n                                </span>\r\n                                <span className=\"\">\r\n                                    {data.status \r\n                                    ? <MdCheckBox size={20} color={\"#EF4444\"}/>\r\n                                    : <MdCheckBoxOutlineBlank size={20} color={\"#EF4444\"} onClick={(e) => handleClickOnCheckBox(data.id, e)}/>\r\n                                    }\r\n                                </span>\r\n                            </div>\r\n                        </li>\r\n                        ))}\r\n                    </ul>\r\n                    <div className=\"px-6 py-3 dark:text-neutral-50\">\r\n                        <TERipple rippleColor=\"light\">\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={handleSubmit}\r\n                                className=\"inline-block rounded bg-danger-300 px-7 pb-2.5 pt-3 text-sm font-semibold uppercase leading-normal text-white transition duration-150 ease-in-out hover:bg-danger-400\"\r\n                            >\r\n                                Add Activity\r\n                            </button>\r\n                        </TERipple>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    );\r\n};\r\n\r\nexport default MainPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}