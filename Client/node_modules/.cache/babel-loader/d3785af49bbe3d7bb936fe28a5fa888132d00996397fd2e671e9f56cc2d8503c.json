{"ast":null,"code":"import React,{useEffect}from'react';import'./App.css';import UsernamePasswordForm from'./pages/UsernamePasswordForm';import MainPage from'./pages/MainPage';import AddActivity from'./pages/AddActivity';import Navbar from'./components/Navbar';import{BrowserRouter as Router,Routes,Route,Outlet,useLocation,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const location=useLocation();const navigate=useNavigate();useEffect(()=>{const isAuthenticated=!!sessionStorage.getItem('token');if(!isAuthenticated&&location.pathname!=='/authenticate'&&location.pathname!=='/register'){navigate('/authenticate');}},[location.pathname]);return/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 min-h-screen bg-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"lg:text-5xl text-3xl font-poppins text-black leading-10 text-center py-10 font-semibold drop-shadow\",children:window.location.pathname!==\"/authenticate\"&&window.location.pathname!==\"/register\"&&\"Welcome \"+sessionStorage.getItem('username')})}),/*#__PURE__*/_jsx(Outlet,{})]})]}),children:[/*#__PURE__*/_jsx(Route,{path:\"authenticate\",element:/*#__PURE__*/_jsx(UsernamePasswordForm,{isLogin:true})}),/*#__PURE__*/_jsx(Route,{path:\"register\",element:/*#__PURE__*/_jsx(UsernamePasswordForm,{isLogin:false})}),/*#__PURE__*/_jsx(Route,{path:\"main\",element:/*#__PURE__*/_jsx(MainPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"addActivity\",element:/*#__PURE__*/_jsx(AddActivity,{})})]})});}export default App;","map":{"version":3,"names":["React","useEffect","UsernamePasswordForm","MainPage","AddActivity","Navbar","BrowserRouter","Router","Routes","Route","Outlet","useLocation","useNavigate","jsx","_jsx","jsxs","_jsxs","App","location","navigate","isAuthenticated","sessionStorage","getItem","pathname","children","path","element","className","window","isLogin"],"sources":["/Users/tudorandrei/repos/ToDoListApp-abatrineanu/Client/src/App.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport './App.css';\nimport UsernamePasswordForm from './pages/UsernamePasswordForm';\nimport MainPage from './pages/MainPage';\nimport AddActivity from './pages/AddActivity';\nimport Navbar from './components/Navbar';\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Outlet,\n  useLocation,\n  useNavigate\n} from \"react-router-dom\";\n\nfunction App() {\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const isAuthenticated = !!sessionStorage.getItem('token');\n    if (!isAuthenticated && location.pathname !== '/authenticate' && location.pathname !== '/register') {\n      navigate('/authenticate');\n    }\n  }, [location.pathname]);\n\n  return (\n    <Routes>\n      <Route path=\"/\" element={\n        <div>  \n          <Navbar/>\n          <div className=\"w-100 min-h-screen bg-white\">\n            <div className=\"container mx-auto\">\n              <h1 className=\"lg:text-5xl text-3xl font-poppins text-black leading-10 text-center py-10 font-semibold drop-shadow\">\n                  {(window.location.pathname !== \"/authenticate\" && window.location.pathname !== \"/register\" ) && \"Welcome \" + sessionStorage.getItem('username')} \n              </h1>\n            </div>\n            <Outlet/>\n          </div>\n        </div>\n      }>\n        <Route path=\"authenticate\" element={<UsernamePasswordForm isLogin={true}/>}/>\n        <Route path=\"register\" element={<UsernamePasswordForm isLogin={false}/>}/>\n        <Route path=\"main\" element={<MainPage/>}/>\n        <Route path=\"addActivity\" element={<AddActivity/>}/>\n      </Route>\n    </Routes>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAO,WAAW,CAClB,MAAO,CAAAC,oBAAoB,KAAM,8BAA8B,CAC/D,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAC7C,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,OACEC,aAAa,GAAI,CAAAC,MAAM,CACvBC,MAAM,CACNC,KAAK,CACLC,MAAM,CACNC,WAAW,CACXC,WAAW,KACN,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAQ,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAE9BX,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmB,eAAe,CAAG,CAAC,CAACC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,CACzD,GAAI,CAACF,eAAe,EAAIF,QAAQ,CAACK,QAAQ,GAAK,eAAe,EAAIL,QAAQ,CAACK,QAAQ,GAAK,WAAW,CAAE,CAClGJ,QAAQ,CAAC,eAAe,CAAC,CAC3B,CACF,CAAC,CAAE,CAACD,QAAQ,CAACK,QAAQ,CAAC,CAAC,CAEvB,mBACET,IAAA,CAACN,MAAM,EAAAgB,QAAA,cACLR,KAAA,CAACP,KAAK,EAACgB,IAAI,CAAC,GAAG,CAACC,OAAO,cACrBV,KAAA,QAAAQ,QAAA,eACEV,IAAA,CAACT,MAAM,GAAC,CAAC,cACTW,KAAA,QAAKW,SAAS,CAAC,6BAA6B,CAAAH,QAAA,eAC1CV,IAAA,QAAKa,SAAS,CAAC,mBAAmB,CAAAH,QAAA,cAChCV,IAAA,OAAIa,SAAS,CAAC,qGAAqG,CAAAH,QAAA,CAC7GI,MAAM,CAACV,QAAQ,CAACK,QAAQ,GAAK,eAAe,EAAIK,MAAM,CAACV,QAAQ,CAACK,QAAQ,GAAK,WAAW,EAAM,UAAU,CAAGF,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC,CAC/I,CAAC,CACF,CAAC,cACNR,IAAA,CAACJ,MAAM,GAAC,CAAC,EACN,CAAC,EACH,CACN,CAAAc,QAAA,eACCV,IAAA,CAACL,KAAK,EAACgB,IAAI,CAAC,cAAc,CAACC,OAAO,cAAEZ,IAAA,CAACZ,oBAAoB,EAAC2B,OAAO,CAAE,IAAK,CAAC,CAAE,CAAC,CAAC,cAC7Ef,IAAA,CAACL,KAAK,EAACgB,IAAI,CAAC,UAAU,CAACC,OAAO,cAAEZ,IAAA,CAACZ,oBAAoB,EAAC2B,OAAO,CAAE,KAAM,CAAC,CAAE,CAAC,CAAC,cAC1Ef,IAAA,CAACL,KAAK,EAACgB,IAAI,CAAC,MAAM,CAACC,OAAO,cAAEZ,IAAA,CAACX,QAAQ,GAAC,CAAE,CAAC,CAAC,cAC1CW,IAAA,CAACL,KAAK,EAACgB,IAAI,CAAC,aAAa,CAACC,OAAO,cAAEZ,IAAA,CAACV,WAAW,GAAC,CAAE,CAAC,CAAC,EAC/C,CAAC,CACF,CAAC,CAEb,CAEA,cAAe,CAAAa,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}